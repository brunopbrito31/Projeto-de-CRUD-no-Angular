<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
  </ol>
</nav>
<div class="container">
  <div class="card list-cliente">
    <h5 class="card-header">Lista de clientes</h5>
    <div class="card-body">
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Id</th>
            <th scope="col">Codigo</th>
            <th scope="col">Nome</th>
            <th scope="col">Nome_Fantasia</th>
            <th scope="col">Cep</th>
            <th scope="col">Endereco</th>
            <th scope="col">Bairro</th>
            <th scope="col">Localidade</th>
            <th scope="col">Uf</th>
            <th scope="col">Data</th>
            <th scope="col">CNPJ</th>
            <th scope="col">Logradouro</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let cliente of clientes">
            <td>{{ cliente.Id }}</td>
            <td>{{ cliente.codigo }}</td>
            <td>{{ cliente.nome }}</td>
            <td>{{ cliente.nome_fantasia }}</td>
            <td>{{ cliente.cep }}</td>
            <td>{{ cliente.endereco }}</td>
            <td>{{ cliente.bairro }}</td>
            <td>{{ cliente.localidade }}</td>
            <td>{{ cliente.uf }}</td>
            <td>{{ cliente.data }}</td>
            <td>{{ cliente.cnpj }}</td>
            <td>{{ cliente.logradouro }}</td>
            <td>
              <button
                type="button"
                class="btn btn-warning btn-sm"
                (click)="editCliente(cliente)"
              >
                Editar
              </button>
              <button
                type="button"
                class="btn btn-danger btn-sm ml-1"
                (click)="deleteCliente(cliente)"
              >
                Deletar
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="card add-cliente" [hidden] = "mos">
    <!-- <h5 class="card-header">Adicionar/Atualizar cliente</h5> -->
    <div class="card-body">
      <form
        id="add-form"
        (ngSubmit)="f.form.valid && saveCliente(f)"
        #f="ngForm"
        novalidate
      >
        <div class="form-group">
          <label for="cod">Codigo</label>
          <input
            type="text"
            [(ngModel)]="cliente.codigo"
            id="cod"
            name="cod"
            #cod="ngModel"
            required
            class="form-control"
            [ngClass]="{ 'is-invalid': f.submitted && cod.invalid }"
            placeholder="Digite o codigo"
          />
          <div *ngIf="f.submitted && cod.invalid" class="invalid-feedback">
            <div *ngIf="">Codigo é obrigatório</div>
          </div>
        </div>
  
        <div class="form-group">
          <label for="cod">Nome</label>
          <input
            type="text"
            [(ngModel)]="cliente.nome"
            id="nom"
            name="nom"
            #nom="ngModel"
            required
            class="form-control"
            [ngClass]="{ 'is-invalid': f.submitted && nom.invalid }"
            placeholder="Digite o nome"
          />
          <div *ngIf="f.submitted && nom.invalid" class="invalid-feedback">
            <div *ngIf="">Nome é obrigatório</div>
          </div>
        </div>
  
        <div class="form-group">
          <label for="cod">Nome Fantasia</label>
          <input
            type="text"
            [(ngModel)]="cliente.nome_fantasia"
            id="nfa"
            name="nfa"
            #nfa="ngModel"
            required
            class="form-control"
            [ngClass]="{ 'is-invalid': f.submitted && nfa.invalid }"
            placeholder="Digite o nome fantasia"
          />
          <div *ngIf="f.submitted && nfa.invalid" class="invalid-feedback">
            <div *ngIf="">
              Nome fantasia é obrigatório
            </div>
          </div>
        </div>
  
        <div class="form-group">
          <label for="ce">CEP</label>
          <input
            type="text"
            [(ngModel)]="cep"
            id="ce"
            name="ce"
            #ce="ngModel"
            required
            class="form-control"
            [ngClass]="{ 'is-invalid': f.submitted && ce.invalid }"
            placeholder="Digite o Cep"
          />
          <div *ngIf="f.submitted && ce.invalid" class="invalid-feedback">
            <div *ngIf="">CEP é obrigatório</div>
          </div>
        </div>
  
        <div (click)="getEndereco()" class="btn btn-primary btn-add-cliente">
          Buscar Endereço Pelo CEP
        </div>
  
        <div class="form-group">
          <label for="bai">Bairro</label>
          <input
            type="text"
            [(ngModel)]="cliente.bairro"
            id="bai"
            name="bai"
            #bai="ngModel"
            required
            class="form-control"
            [ngClass]="{ 'is-invalid': f.submitted && bai.invalid }"
            [disabled]="campodesativado"
            placeholder="Digite o cep"
          />
          <div *ngIf="f.submitted && bai.invalid" class="invalid-feedback">
            <div *ngIf="">Bairro é obrigatório</div>
          </div>
        </div>
  
        <div class="form-group">
          <label for="loc">Cidade</label>
          <input
            type="text"
            [(ngModel)]="cliente.localidade"
            id="loc"
            name="loc"
            #loc="ngModel"
            required
            class="form-control"
            [ngClass]="{ 'is-invalid': f.submitted && bai.invalid }"
            [disabled]="campodesativado"
            placeholder="Digite o cep"
          />
          <div *ngIf="f.submitted && bai.invalid" class="invalid-feedback">
            <div *ngIf="">Cidade é obrigatória</div>
          </div>
        </div>
  
        <div class="form-group">
          <label for="loc">Uf</label>
          <input
            type="text"
            [(ngModel)]="cliente.uf"
            id="uf"
            name="uf"
            #uf="ngModel"
            required
            class="form-control"
            [ngClass]="{ 'is-invalid': f.submitted && uf.invalid }"
            [disabled]="campodesativado"
            placeholder="Digite o cep"
          />
          <div *ngIf="f.submitted && uf.invalid" class="invalid-feedback">
            <div *ngIf="">UF é obrigatória</div>
          </div>
        </div>
  
        <div class="form-group">
          <label for="dat">Data</label>
          <input
            type="date"
            [(ngModel)]="cliente.data"
            id="dat"
            name="dat"
            #dat="ngModel"
            required
            class="form-control"
            [ngClass]="{ 'is-invalid': f.submitted && dat.invalid }"
            placeholder="Entre com a data"
          />
          <div *ngIf="f.submitted && dat.invalid" class="invalid-feedback">
            <div *ngIf="">Data é obrigatória</div>
          </div>
        </div>
  
        <div class="form-group">
          <label for="cnp">CNPJ</label>
          <input
            type="text"
            [(ngModel)]="cliente.cnpj"
            id="uf"
            name="cnp"
            #cnp="ngModel"
            required
            class="form-control"
            [ngClass]="{ 'is-invalid': f.submitted && cnp.invalid }"
            placeholder="Digite o cnpj"
          />
          <div *ngIf="f.submitted && cnp.invalid" class="invalid-feedback">
            <div *ngIf="">cnpj é obrigatório</div>
          </div>
        </div>
  
        <div class="form-group">
          <label for="cnp">Logradouro</label>
          <input
            type="text"
            [(ngModel)]="cliente.logradouro"
            id="log"
            name="log"
            #log="ngModel"
            required
            class="form-control"
            [ngClass]="{ 'is-invalid': f.submitted && log.invalid }"
            placeholder="Digite o logradouro"
          />
          <div *ngIf="f.submitted && log.invalid" class="invalid-feedback">
            <div *ngIf="">logradouro é obrigatório</div>
          </div>
        </div>
  
        <button type="submit" class="btn btn-primary btn-add-cliente">
          Cadastrar
        </button>
        <button
          type="reset"
          id="bt"
          class="btn btn-secondary btn-add-cliente"
          (click)="cleanForm(f)"
        >
          Cancelar
        </button>
      </form>
    </div>
  </div>

</div>

